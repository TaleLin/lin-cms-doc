(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{420:function(s,t,a){"use strict";a.r(t);var e=a(42),_=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" "),a("H2Icon"),s._v(" 配置")],1),s._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("我们曾不止一次的提到，Lin 是一个基于 Flask 的框架，你可以把 Lin 理解成一个 Flask 的上层框架。这个概念"),a("strong",[s._v("很重要")]),s._v("，意味着你可以在 Lin 中去使用 Flask 的一切特性。")]),s._v(" "),a("p",[s._v("配置是应用中一个很重要的部分，一般的我们把通用性、安全性的参数提取为一个配置项。当修改这个配置时，在应用中所有使用该配置的地方都会同时生效。")]),s._v(" "),a("p",[s._v("Flask 框架本身提供了两种配置方式。")]),s._v(" "),a("ul",[a("li",[s._v("硬编码的方式。\n你可以直接在代码中通过"),a("code",[s._v("app.config['DEBUG'] = True")]),s._v("这种赋值的方式来进行配置。")]),s._v(" "),a("li",[s._v("配置文件的方式\n通过加载专门的配置文件，如"),a("code",[s._v("setting.py")]),s._v("文件，来导入配置。")])]),s._v(" "),a("p",[s._v("Lin 本身并未对 Flask 的配置方式进行任何更改和扩展。在这里我们便不再详细赘述，如果你不熟悉请先阅读 Flask 的配置文档"),a("a",{attrs:{href:"http://flask.pocoo.org/docs/1.0/config/#configuration-basics",target:"_blank",rel:"noopener noreferrer"}},[s._v("Flask"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("h2",{attrs:{id:"lin-的既有配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lin-的既有配置"}},[s._v("#")]),s._v(" Lin 的既有配置")]),s._v(" "),a("p",[s._v("在"),a("RouterLink",{attrs:{to:"/server/flask/"}},[s._v("项目结构及开发规范")]),s._v("一节中，我们谈到所有的配置文件均在"),a("code",[s._v("app/config")]),s._v("该目录下，并着重区分了"),a("code",[s._v("setting.py")]),s._v("（普通配置）和"),a("code",[s._v("secure.py")]),s._v("（安全配置，如数据库密码等）这两个配置文件。")],1),s._v(" "),a("p",[s._v("下面我们来详细说明一下这两个文件里面配置的作用：")]),s._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# secure.py")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安全性配置")]),s._v("\nSQLALCHEMY_DATABASE_URI "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mysql+cymysql://root:123456@localhost:3306/lin-cms'")]),s._v("\n\nSECRET_KEY "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\x88W\\xf09\\x91\\x07\\x98\\x89\\x87\\x96\\x20A\\xc63\\xf9\\xecJJU\\x17\\xc5V\\xbe\\x8b\\xef\\xd7\\xd8\\xd3\\xe6\\x95*4'")]),s._v("\n")])])]),a("ul",[a("li",[a("p",[s._v("SQLALCHEMY_DATABASE_URI。数据库配置项，默认数据库为"),a("code",[s._v("mysql")]),s._v("，数据库在本地"),a("code",[s._v("localhost")]),s._v("，端口号默认"),a("code",[s._v("3306")]),s._v("，数据库名默认"),a("code",[s._v("lin-cms")]),s._v("，账户名默认"),a("code",[s._v("root")]),s._v("，密码默认"),a("code",[s._v("123456")]),s._v("。如你需更改数据库配置，请在此项更改。")])]),s._v(" "),a("li",[a("p",[s._v("SECRET_KEY。 用于令牌生成的密匙，此处请务必修改，防止密匙与他人一样导致令牌被破解。")])])]),s._v(" "),a("div",{staticClass:"language-py extra-class"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# setting.py")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 基础配置")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" datetime "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" timedelta\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分页配置")]),s._v("\nCOUNT_DEFAULT "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\nPAGE_DEFAULT "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 令牌配置")]),s._v("\nJWT_ACCESS_TOKEN_EXPIRES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" timedelta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hours"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("ul",[a("li",[a("p",[s._v("COUNT_DEFAULT。分页配置，每页的数目，默认"),a("code",[s._v("10")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("PAGE_DEFAULT。分页配置，默认从第"),a("code",[s._v("1")]),s._v("页开始。")])]),s._v(" "),a("li",[a("p",[s._v("JWT_ACCESS_TOKEN_EXPIRES。 "),a("code",[s._v("access_token")]),s._v("的过期时间，默认为 1 小时（推荐）。")])])])])}),[],!1,null,null,null);t.default=_.exports}}]);